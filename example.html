<html>
<head>
  <meta name="viewport" content="width=720">
  <meta charset="utf-8">
</head>
<script type="module" type="text/javascript">
import { c, body, attr } from 'https://frameorc.github.io/src/dom.js';
import { methods } from '../vendetta-themes/methods/default.js';
import V from './adapters/frameorc.js';

const [v, stylesheet] = V(
  methods({
    unit: [8, 'px'],
    color: {
      T: 'transparent',
      t0: '#222',
      t1: '#2196f3',
      c0: '#eaeef0',
      c1: '#fff',
    },
    textSize: {
      xs: '12px',
      sm: '16px',
      md: '24px'
    },
    shadow: {
      sm: '0 2px 8px -3px rgba(0, 0, 0, 0.2)',
      md: '0 6px 16px -2px rgba(0, 0, 0, 0.4)',
    }
  })
);

const animateText = (duration) =>
  v.Animation(`${duration} infinite alternate ease-in-out`, {
    0: v.op`.4`.tsh`0 0 0 T`,
    100: v.op`1`.tc`t1`.tsh`0 0 8px t1`
  });

const url = 'https://github.com/frameorc/vendetta/blob/main/example.html';
body(v.bg`c0`.tc`t0`.m`0`({ WebkitTextSizeAdjust: '100%' }),
  c.Div(v.col().gap`8`.w`mn`.mh`a`.mv`6`.tf`sans-serif`,
    c.Div(v.col().gap`2`,
      c.Div(v.tw`bold`.ts`md`.tws`p`,
        'A simple ', c.Span(animateText`2s`, 'V'), 'endetta example',
        c.A(attr.href(url).target('blank'),
          v.flr.tc`t1`.td`n`,
          v.Transition('.3s', v.op`.6`.brb`T`, v.Hover.op`1`.brb`t1`),
          'View source')
      ),
      c.Div(v.gap`4 2`.grid`4[12 6|24] 4[12|6]`,
        Array.from({length: 16}, (_, i) =>
          c.Div(v.r.p`2`.ts`sm`.sel`n`,
            v.Transition('.25s', v.bg`c1`.ring`4px T`),
            v.Hover.Transition('.5s', v.ring`2px t1`),
            i == 0 ? 'Hover' : i
          )
        )
      )
    ),
    c.Div(v.tw`bold`.ts`md`,
      'Generated CSS',
      () => c.Pre(v.tw`normal`.ts`xs`.tc`black`.tws`pw`.bg`c1`.p.r`2`.sel`n`,
        v.Transition('.5s', v.sh`sm`, v.Hover.sh`md`),
        [...stylesheet.rules].map(v => v.cssText).join('\n')
      )
    ),
  )
);
body.refresh();
</script>
</html>
